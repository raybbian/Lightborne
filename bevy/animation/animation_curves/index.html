<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="The `AnimationCurve` trait and adaptors that allow curves to implement it."><title>bevy::animation::animation_curves - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../../" data-static-root-path="../../../static.files/" data-current-crate="bevy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../../static.files/storage-59e33391.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://bevyengine.org/assets/icon.png"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../../../bevy/index.html"><img src="https://bevyengine.org/assets/icon.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../../../bevy/index.html"><img src="https://bevyengine.org/assets/icon.png" alt="logo"></a><h2><a href="../../../bevy/index.html">bevy</a><span class="version">0.15.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Module animation_<wbr>curves</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#overview" title="Overview">Overview</a></li><li><a href="#making-animation-curves" title="Making animation curves">Making animation curves</a><ul><li><a href="#animated-fields" title="Animated Fields">Animated Fields</a></li><li><a href="#animatable-properties" title="Animatable Properties">Animatable Properties</a></li><li><a href="#custom-animationcurve-and-animationcurveevaluator" title="Custom `AnimationCurve` and `AnimationCurveEvaluator`">Custom <code>AnimationCurve</code> and <code>AnimationCurveEvaluator</code></a></li></ul></li></ul><h3><a href="#structs">Module Items</a></h3><ul class="block"><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#enums" title="Enums">Enums</a></li><li><a href="#traits" title="Traits">Traits</a></li></ul></section><div id="rustdoc-modnav"><h2><a href="../index.html">In bevy::<wbr>animation</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../../index.html">bevy</a>::<wbr><a href="../index.html">animation</a></span><h1>Module <span>animation_curves</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../../src/bevy_animation/lib.rs.html#13">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>The <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a> trait and adaptors that allow curves to implement it.</p>
<h2 id="overview"><a class="doc-anchor" href="#overview">§</a>Overview</h2>
<p>The flow of curves into the animation system generally begins with something that
implements the <a href="../../prelude/trait.Curve.html" title="trait bevy::prelude::Curve"><code>Curve</code></a> trait. Let’s imagine, for example, that we have some
<code>Curve&lt;Vec3&gt;</code> that we want to use to animate something. That could be defined in
a number of different ways, but let’s imagine that we’ve defined it <a href="../../prelude/struct.FunctionCurve.html" title="struct bevy::prelude::FunctionCurve">using a function</a>:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>wobble_curve = FunctionCurve::new(
    Interval::UNIT,
    |t| { vec3(t.cos(), <span class="number">0.0</span>, <span class="number">0.0</span>) },
);</code></pre></div>
<p>Okay, so we have a curve, but the animation system also needs to know, in some way,
how the values from this curve should actually be used. That is, it needs to know what
to animate! That’s what <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a> is for. In particular, what we need to do
is take our curve and turn it into an <code>AnimationCurve</code> which will be usable by the
animation system.</p>
<p>For instance, let’s imagine that we want to use the <code>Vec3</code> output
from our curve to animate the <a href="../../prelude/struct.Transform.html#structfield.translation" title="field bevy::prelude::Transform::translation">translation component of a <code>Transform</code></a>. For this, there is
the adaptor <a href="../../prelude/struct.AnimatableCurve.html" title="struct bevy::prelude::AnimatableCurve"><code>AnimatableCurve</code></a>, which wraps any <a href="../../prelude/trait.Curve.html" title="trait bevy::prelude::Curve"><code>Curve</code></a> and <a href="../../prelude/trait.AnimatableProperty.html" title="trait bevy::prelude::AnimatableProperty"><code>AnimatableProperty</code></a> and turns it into an
<a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a> that will use the given curve to animate the entity’s property:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span>wobble_animation = AnimatableCurve::new(<span class="macro">animated_field!</span>(Transform::translation), wobble_curve);</code></pre></div>
<p>And finally, this <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a> needs to be added to an <a href="../../prelude/struct.AnimationClip.html" title="struct bevy::prelude::AnimationClip"><code>AnimationClip</code></a> in order to
actually animate something. This is what that looks like:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">let </span><span class="kw-2">mut </span>animation_clip = AnimationClip::default();
animation_clip.add_curve_to_target(
    animation_target_id,
    wobble_animation,
);</code></pre></div>
<h2 id="making-animation-curves"><a class="doc-anchor" href="#making-animation-curves">§</a>Making animation curves</h2>
<p>The overview showed one example, but in general there are a few different ways of going from
a <a href="../../prelude/trait.Curve.html" title="trait bevy::prelude::Curve"><code>Curve</code></a>, which produces time-related data of some kind, to an <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a>, which
knows how to apply that data to an entity.</p>
<h3 id="animated-fields"><a class="doc-anchor" href="#animated-fields">§</a>Animated Fields</h3>
<p>The <a href="../macro.animated_field.html" title="macro bevy::animation::animated_field"><code>animated_field</code></a> macro (which returns an <a href="../../prelude/struct.AnimatedField.html" title="struct bevy::prelude::AnimatedField"><code>AnimatedField</code></a>), in combination with <a href="../../prelude/struct.AnimatableCurve.html" title="struct bevy::prelude::AnimatableCurve"><code>AnimatableCurve</code></a>
is the easiest way to make an animation curve (see the example above).</p>
<p>This will select a field on a component and pass it to a <a href="../../prelude/trait.Curve.html" title="trait bevy::prelude::Curve"><code>Curve</code></a> with a type that matches the field.</p>
<h3 id="animatable-properties"><a class="doc-anchor" href="#animatable-properties">§</a>Animatable Properties</h3>
<p>Animation of arbitrary aspects of entities can be accomplished using <a href="../../prelude/trait.AnimatableProperty.html" title="trait bevy::prelude::AnimatableProperty"><code>AnimatableProperty</code></a> in
conjunction with <a href="../../prelude/struct.AnimatableCurve.html" title="struct bevy::prelude::AnimatableCurve"><code>AnimatableCurve</code></a>. See the documentation <a href="../../prelude/trait.AnimatableProperty.html" title="trait bevy::prelude::AnimatableProperty">there</a> for details.</p>
<h3 id="custom-animationcurve-and-animationcurveevaluator"><a class="doc-anchor" href="#custom-animationcurve-and-animationcurveevaluator">§</a>Custom <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a> and <a href="../../prelude/trait.AnimationCurveEvaluator.html" title="trait bevy::prelude::AnimationCurveEvaluator"><code>AnimationCurveEvaluator</code></a></h3>
<p>This is the lowest-level option with the most control, but it is also the most complicated.</p>
</div></details><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AnimatableCurve.html" title="struct bevy::animation::animation_curves::AnimatableCurve">Animatable<wbr>Curve</a></div><div class="desc docblock-short">This type allows the conversion of a <a href="../../prelude/trait.Curve.html" title="trait bevy::prelude::Curve">curve</a> valued in the <a href="../../prelude/trait.AnimatableProperty.html#associatedtype.Property" title="associated type bevy::prelude::AnimatableProperty::Property">property type</a> of an
<a href="../../prelude/trait.AnimatableProperty.html" title="trait bevy::prelude::AnimatableProperty"><code>AnimatableProperty</code></a> into an <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a> which animates that property.</div></li><li><div class="item-name"><a class="struct" href="struct.AnimatableCurveEvaluator.html" title="struct bevy::animation::animation_curves::AnimatableCurveEvaluator">Animatable<wbr>Curve<wbr>Evaluator</a></div><div class="desc docblock-short">An <a href="../../prelude/struct.AnimatableCurveEvaluator.html" title="struct bevy::prelude::AnimatableCurveEvaluator"><code>AnimatableCurveEvaluator</code></a> for <a href="../../prelude/trait.AnimatableProperty.html" title="trait bevy::prelude::AnimatableProperty"><code>AnimatableProperty</code></a> instances.</div></li><li><div class="item-name"><a class="struct" href="struct.AnimatableKeyframeCurve.html" title="struct bevy::animation::animation_curves::AnimatableKeyframeCurve">Animatable<wbr>Keyframe<wbr>Curve</a></div><div class="desc docblock-short">A <a href="../../prelude/trait.Curve.html" title="trait bevy::prelude::Curve">curve</a> defined by keyframes with values in an <a href="../../prelude/trait.Animatable.html" title="trait bevy::prelude::Animatable">animatable</a> type.</div></li><li><div class="item-name"><a class="struct" href="struct.AnimatedField.html" title="struct bevy::animation::animation_curves::AnimatedField">Animated<wbr>Field</a></div><div class="desc docblock-short">A <a href="../../prelude/trait.Component.html" title="trait bevy::prelude::Component"><code>Component</code></a> field that can be animated, defined by a function that reads the component and returns
the accessed field / property.</div></li><li><div class="item-name"><a class="struct" href="struct.WeightsCurve.html" title="struct bevy::animation::animation_curves::WeightsCurve">Weights<wbr>Curve</a></div><div class="desc docblock-short">This type allows an <a href="../../prelude/iterable/trait.IterableCurve.html" title="trait bevy::prelude::iterable::IterableCurve"><code>IterableCurve</code></a> valued in <code>f32</code> to be used as an <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a>
that animates <a href="../../prelude/struct.MorphWeights.html" title="struct bevy::prelude::MorphWeights">morph weights</a>.</div></li></ul><h2 id="enums" class="section-header">Enums<a href="#enums" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.EvaluatorId.html" title="enum bevy::animation::animation_curves::EvaluatorId">Evaluator<wbr>Id</a></div><div class="desc docblock-short">The <a href="../../prelude/enum.EvaluatorId.html" title="enum bevy::prelude::EvaluatorId"><code>EvaluatorId</code></a> is used to look up the <a href="../../prelude/trait.AnimationCurveEvaluator.html" title="trait bevy::prelude::AnimationCurveEvaluator"><code>AnimationCurveEvaluator</code></a> for an <a href="../../prelude/trait.AnimatableProperty.html" title="trait bevy::prelude::AnimatableProperty"><code>AnimatableProperty</code></a>.
For a given animated property, this ID should always be the same to allow things like animation blending to occur.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AnimatableProperty.html" title="trait bevy::animation::animation_curves::AnimatableProperty">Animatable<wbr>Property</a></div><div class="desc docblock-short">A value on a component that Bevy can animate.</div></li><li><div class="item-name"><a class="trait" href="trait.AnimationCompatibleCurve.html" title="trait bevy::animation::animation_curves::AnimationCompatibleCurve">Animation<wbr>Compatible<wbr>Curve</a></div><div class="desc docblock-short">This trait collects the additional requirements on top of <a href="../../prelude/trait.Curve.html" title="trait bevy::prelude::Curve"><code>Curve&lt;T&gt;</code></a> needed for a
curve to be used as an <a href="../../prelude/trait.AnimationCurve.html" title="trait bevy::prelude::AnimationCurve"><code>AnimationCurve</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.AnimationCurve.html" title="trait bevy::animation::animation_curves::AnimationCurve">Animation<wbr>Curve</a></div><div class="desc docblock-short">A low-level trait that provides control over how curves are actually applied
to entities by the animation system.</div></li><li><div class="item-name"><a class="trait" href="trait.AnimationCurveEvaluator.html" title="trait bevy::animation::animation_curves::AnimationCurveEvaluator">Animation<wbr>Curve<wbr>Evaluator</a></div><div class="desc docblock-short">A low-level trait for use in <a href="../../prelude/struct.VariableCurve.html" title="struct bevy::prelude::VariableCurve"><code>crate::VariableCurve</code></a> that provides fine
control over how animations are evaluated.</div></li></ul></section></div></main></body></html>