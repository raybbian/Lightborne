<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Trait implemented by broad-phase algorithms supported by Rapier."><title>BroadPhase in rapier2d::geometry - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="rapier2d" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../rapier2d/index.html">rapier2d</a><span class="version">0.22.0</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Broad<wbr>Phase</a></h2><h3><a href="#required-methods">Required Methods</a></h3><ul class="block"><li><a href="#tymethod.update" title="update">update</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In rapier2d::<wbr>geometry</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">rapier2d</a>::<wbr><a href="index.html">geometry</a></span><h1>Trait <span class="trait">BroadPhase</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/rapier2d/geometry/broad_phase.rs.html#15-50">Source</a> </span></div><pre class="rust item-decl"><code>pub trait BroadPhase:
    <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>
    + 'static {
    // Required method
    fn <a href="#tymethod.update" class="fn">update</a>(
        &amp;mut self,
        dt: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.f32.html">f32</a>,
        prediction_distance: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.f32.html">f32</a>,
        colliders: &amp;mut <a class="struct" href="struct.ColliderSet.html" title="struct rapier2d::geometry::ColliderSet">ColliderSet</a>,
        bodies: &amp;<a class="struct" href="../dynamics/struct.RigidBodySet.html" title="struct rapier2d::dynamics::RigidBodySet">RigidBodySet</a>,
        modified_colliders: &amp;[<a class="struct" href="struct.ColliderHandle.html" title="struct rapier2d::geometry::ColliderHandle">ColliderHandle</a>],
        removed_colliders: &amp;[<a class="struct" href="struct.ColliderHandle.html" title="struct rapier2d::geometry::ColliderHandle">ColliderHandle</a>],
        events: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.85.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.BroadPhasePairEvent.html" title="enum rapier2d::geometry::BroadPhasePairEvent">BroadPhasePairEvent</a>&gt;,
    );
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Trait implemented by broad-phase algorithms supported by Rapier.</p>
<p>The task of a broad-phase algorithm is to detect potential collision pairs, usually based on
bounding volumes. The pairs must be conservative: it is OK to create a collision pair if
two objects don’t actually touch, but it is incorrect to remove a pair between two objects
that are still touching. In other words, it can have false-positive (though these induce
some computational overhead on the narrow-phase), but cannot have false-negative.</p>
</div></details><h2 id="required-methods" class="section-header">Required Methods<a href="#required-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="tymethod.update" class="method"><a class="src rightside" href="../../src/rapier2d/geometry/broad_phase.rs.html#40-49">Source</a><h4 class="code-header">fn <a href="#tymethod.update" class="fn">update</a>(
    &amp;mut self,
    dt: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.f32.html">f32</a>,
    prediction_distance: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.f32.html">f32</a>,
    colliders: &amp;mut <a class="struct" href="struct.ColliderSet.html" title="struct rapier2d::geometry::ColliderSet">ColliderSet</a>,
    bodies: &amp;<a class="struct" href="../dynamics/struct.RigidBodySet.html" title="struct rapier2d::dynamics::RigidBodySet">RigidBodySet</a>,
    modified_colliders: &amp;[<a class="struct" href="struct.ColliderHandle.html" title="struct rapier2d::geometry::ColliderHandle">ColliderHandle</a>],
    removed_colliders: &amp;[<a class="struct" href="struct.ColliderHandle.html" title="struct rapier2d::geometry::ColliderHandle">ColliderHandle</a>],
    events: &amp;mut <a class="struct" href="https://doc.rust-lang.org/1.85.0/alloc/vec/struct.Vec.html" title="struct alloc::vec::Vec">Vec</a>&lt;<a class="enum" href="enum.BroadPhasePairEvent.html" title="enum rapier2d::geometry::BroadPhasePairEvent">BroadPhasePairEvent</a>&gt;,
)</h4></section></summary><div class="docblock"><p>Updates the broad-phase.</p>
<p>The results must be output through the <code>events</code> struct. The broad-phase algorithm is only
required to generate new events (i.e. no need to re-send an <code>AddPair</code> event if it was already
sent previously and no <code>RemovePair</code> happened since then). Sending redundant events is allowed
but can result in a slight computational overhead.</p>
<p>The <code>colliders</code> set is mutable only to provide access to
[<code>collider.set_internal_broad_phase_proxy_index</code>]. Other properties of the collider should
<strong>not</strong> be modified during the broad-phase update.</p>
<h5 id="parameters"><a class="doc-anchor" href="#parameters">§</a>Parameters</h5>
<ul>
<li><code>prediction_distance</code>: colliders that are not exactly touching, but closer to this
distance must form a collision pair.</li>
<li><code>colliders</code>: the set of colliders. Change detection with <code>collider.needs_broad_phase_update()</code>
can be relied on at this stage.</li>
<li><code>modified_colliders</code>: colliders that are know to be modified since the last update.</li>
<li><code>removed_colliders</code>: colliders that got removed since the last update. Any associated data
in the broad-phase should be removed by this call to <code>update</code>.</li>
<li><code>events</code>: the broad-phase’s output. They indicate what collision pairs need to be created
and what pairs need to be removed. It is OK to create pairs for colliders that don’t
actually collide (though this can increase computational overhead in the narrow-phase)
but it is important not to indicate removal of a collision pair if the underlying colliders
are still touching or closer than <code>prediction_distance</code>.</li>
</ul>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-BroadPhase-for-BroadPhaseMultiSap" class="impl"><a class="src rightside" href="../../src/rapier2d/geometry/broad_phase_multi_sap/broad_phase_multi_sap.rs.html#575-647">Source</a><a href="#impl-BroadPhase-for-BroadPhaseMultiSap" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.BroadPhase.html" title="trait rapier2d::geometry::BroadPhase">BroadPhase</a> for <a class="struct" href="struct.BroadPhaseMultiSap.html" title="struct rapier2d::geometry::BroadPhaseMultiSap">BroadPhaseMultiSap</a></h3></section></div><script src="../../trait.impl/rapier2d/geometry/broad_phase/trait.BroadPhase.js" async></script></section></div></main></body></html>