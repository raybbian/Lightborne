<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Dispatches interaction events to the target entities."><title>pointer_events in bevy_picking::events - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="bevy_picking" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc fn"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../bevy_picking/index.html">bevy_<wbr>picking</a><span class="version">0.15.2</span></h2></div><div class="sidebar-elems"><div id="rustdoc-modnav"><h2><a href="index.html">In bevy_<wbr>picking::<wbr>events</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">bevy_picking</a>::<wbr><a href="index.html">events</a></span><h1>Function <span class="fn">pointer_events</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/bevy_picking/events.rs.html#370-740">Source</a> </span></div><pre class="rust item-decl"><code>pub fn pointer_events(
    input_events: <a class="struct" href="../../bevy_ecs/event/reader/struct.EventReader.html" title="struct bevy_ecs::event::reader::EventReader">EventReader</a>&lt;'_, '_, <a class="struct" href="../pointer/struct.PointerInput.html" title="struct bevy_picking::pointer::PointerInput">PointerInput</a>&gt;,
    pointers: <a class="struct" href="../../bevy_ecs/system/query/struct.Query.html" title="struct bevy_ecs::system::query::Query">Query</a>&lt;'_, '_, &amp;<a class="struct" href="../pointer/struct.PointerLocation.html" title="struct bevy_picking::pointer::PointerLocation">PointerLocation</a>&gt;,
    pointer_map: <a class="struct" href="../../bevy_ecs/change_detection/struct.Res.html" title="struct bevy_ecs::change_detection::Res">Res</a>&lt;'_, <a class="struct" href="../pointer/struct.PointerMap.html" title="struct bevy_picking::pointer::PointerMap">PointerMap</a>&gt;,
    hover_map: <a class="struct" href="../../bevy_ecs/change_detection/struct.Res.html" title="struct bevy_ecs::change_detection::Res">Res</a>&lt;'_, <a class="struct" href="../focus/struct.HoverMap.html" title="struct bevy_picking::focus::HoverMap">HoverMap</a>&gt;,
    previous_hover_map: <a class="struct" href="../../bevy_ecs/change_detection/struct.Res.html" title="struct bevy_ecs::change_detection::Res">Res</a>&lt;'_, <a class="struct" href="../focus/struct.PreviousHoverMap.html" title="struct bevy_picking::focus::PreviousHoverMap">PreviousHoverMap</a>&gt;,
    pointer_state: <a class="struct" href="../../bevy_ecs/change_detection/struct.ResMut.html" title="struct bevy_ecs::change_detection::ResMut">ResMut</a>&lt;'_, <a class="struct" href="struct.PointerState.html" title="struct bevy_picking::events::PointerState">PointerState</a>&gt;,
    commands: <a class="struct" href="../../bevy_ecs/system/commands/struct.Commands.html" title="struct bevy_ecs::system::commands::Commands">Commands</a>&lt;'_, '_&gt;,
    event_writers: <a class="struct" href="struct.PickingEventWriters.html" title="struct bevy_picking::events::PickingEventWriters">PickingEventWriters</a>&lt;'_&gt;,
)</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Dispatches interaction events to the target entities.</p>
<p>Within a single frame, events are dispatched in the following order:</p>
<ul>
<li><a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a> → <a href="struct.DragLeave.html" title="struct bevy_picking::events::DragLeave"><code>DragLeave</code></a>.</li>
<li><a href="struct.DragEnter.html" title="struct bevy_picking::events::DragEnter"><code>DragEnter</code></a> → <a href="struct.Over.html" title="struct bevy_picking::events::Over"><code>Over</code></a>.</li>
<li>Any number of any of the following:
<ul>
<li>For each movement: <a href="struct.DragStart.html" title="struct bevy_picking::events::DragStart"><code>DragStart</code></a> → <a href="struct.Drag.html" title="struct bevy_picking::events::Drag"><code>Drag</code></a> → <a href="struct.DragOver.html" title="struct bevy_picking::events::DragOver"><code>DragOver</code></a> → <a href="struct.Move.html" title="struct bevy_picking::events::Move"><code>Move</code></a>.</li>
<li>For each button press: <a href="struct.Down.html" title="struct bevy_picking::events::Down"><code>Down</code></a> or <a href="struct.Click.html" title="struct bevy_picking::events::Click"><code>Click</code></a> → <a href="struct.Up.html" title="struct bevy_picking::events::Up"><code>Up</code></a> → <a href="struct.DragDrop.html" title="struct bevy_picking::events::DragDrop"><code>DragDrop</code></a> → <a href="struct.DragEnd.html" title="struct bevy_picking::events::DragEnd"><code>DragEnd</code></a> → <a href="struct.DragLeave.html" title="struct bevy_picking::events::DragLeave"><code>DragLeave</code></a>.</li>
<li>For each pointer cancellation: <a href="struct.Cancel.html" title="struct bevy_picking::events::Cancel"><code>Cancel</code></a>.</li>
</ul>
</li>
</ul>
<p>Additionally, across multiple frames, the following are also strictly
ordered by the interaction state machine:</p>
<ul>
<li>When a pointer moves over the target:
<a href="struct.Over.html" title="struct bevy_picking::events::Over"><code>Over</code></a>, <a href="struct.Move.html" title="struct bevy_picking::events::Move"><code>Move</code></a>, <a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a>.</li>
<li>When a pointer presses buttons on the target:
<a href="struct.Down.html" title="struct bevy_picking::events::Down"><code>Down</code></a>, <a href="struct.Click.html" title="struct bevy_picking::events::Click"><code>Click</code></a>, <a href="struct.Up.html" title="struct bevy_picking::events::Up"><code>Up</code></a>.</li>
<li>When a pointer drags the target:
<a href="struct.DragStart.html" title="struct bevy_picking::events::DragStart"><code>DragStart</code></a>, <a href="struct.Drag.html" title="struct bevy_picking::events::Drag"><code>Drag</code></a>, <a href="struct.DragEnd.html" title="struct bevy_picking::events::DragEnd"><code>DragEnd</code></a>.</li>
<li>When a pointer drags something over the target:
<a href="struct.DragEnter.html" title="struct bevy_picking::events::DragEnter"><code>DragEnter</code></a>, <a href="struct.DragOver.html" title="struct bevy_picking::events::DragOver"><code>DragOver</code></a>, <a href="struct.DragDrop.html" title="struct bevy_picking::events::DragDrop"><code>DragDrop</code></a>, <a href="struct.DragLeave.html" title="struct bevy_picking::events::DragLeave"><code>DragLeave</code></a>.</li>
<li>When a pointer is canceled:
No other events will follow the <a href="struct.Cancel.html" title="struct bevy_picking::events::Cancel"><code>Cancel</code></a> event for that pointer.</li>
</ul>
<p>Two events – <a href="struct.Over.html" title="struct bevy_picking::events::Over"><code>Over</code></a> and <a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a> – are driven only by the <a href="../focus/struct.HoverMap.html" title="struct bevy_picking::focus::HoverMap"><code>HoverMap</code></a>.
The rest rely on additional data from the <a href="../pointer/struct.PointerInput.html" title="struct bevy_picking::pointer::PointerInput"><code>PointerInput</code></a> event stream. To
receive these events for a custom pointer, you must add <a href="../pointer/struct.PointerInput.html" title="struct bevy_picking::pointer::PointerInput"><code>PointerInput</code></a>
events.</p>
<p>When the pointer goes from hovering entity A to entity B, entity A will
receive <a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a> and then entity B will receive <a href="struct.Over.html" title="struct bevy_picking::events::Over"><code>Over</code></a>. No entity will ever
receive both an <a href="struct.Over.html" title="struct bevy_picking::events::Over"><code>Over</code></a> and and a <a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a> event during the same frame.</p>
<p>When we account for event bubbling, this is no longer true. When focus shifts
between children, parent entities may receive redundant <a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a> → <a href="struct.Over.html" title="struct bevy_picking::events::Over"><code>Over</code></a> pairs.
In the context of UI, this is especially problematic. Additional hierarchy-aware
events will be added in a future release.</p>
<p>Both <a href="struct.Click.html" title="struct bevy_picking::events::Click"><code>Click</code></a> and <a href="struct.Up.html" title="struct bevy_picking::events::Up"><code>Up</code></a> target the entity hovered in the <em>previous frame</em>,
rather than the current frame. This is because touch pointers hover nothing
on the frame they are released. The end effect is that these two events can
be received sequentally after an <a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a> event (but always on the same frame
as the <a href="struct.Out.html" title="struct bevy_picking::events::Out"><code>Out</code></a> event).</p>
<p>Note: Though it is common for the <a href="../pointer/struct.PointerInput.html" title="struct bevy_picking::pointer::PointerInput"><code>PointerInput</code></a> stream may contain
multiple pointer movements and presses each frame, the hover state is
determined only by the pointer’s <em>final position</em>. Since the hover state
ultimately determines which entities receive events, this may mean that an
entity can receive events from before or after it was actually hovered.</p>
</div></details></section></div></main></body></html>