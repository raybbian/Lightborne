<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Types that can define world-wide states in a finite-state machine."><title>States in bevy_state::state - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="bevy_state" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../../static.files/storage-59e33391.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../bevy_state/index.html">bevy_<wbr>state</a><span class="version">0.15.2</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">States</a></h2><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#example" title="Example">Example</a></li></ul><h3><a href="#provided-associated-consts">Provided Associated Constants</a></h3><ul class="block"><li><a href="#associatedconstant.DEPENDENCY_DEPTH" title="DEPENDENCY_DEPTH">DEPENDENCY_DEPTH</a></li></ul><h3><a href="#dyn-compatibility">Dyn Compatibility</a></h3><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In bevy_<wbr>state::<wbr>state</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><span class="rustdoc-breadcrumbs"><a href="../index.html">bevy_state</a>::<wbr><a href="index.html">state</a></span><h1>Trait <span class="trait">States</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/bevy_state/state/states.rs.html#62-67">Source</a> </span></div><pre class="rust item-decl"><code>pub trait States:
    'static
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/marker/trait.Send.html" title="trait core::marker::Send">Send</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/marker/trait.Sync.html" title="trait core::marker::Sync">Sync</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/clone/trait.Clone.html" title="trait core::clone::Clone">Clone</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/cmp/trait.PartialEq.html" title="trait core::cmp::PartialEq">PartialEq</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/cmp/trait.Eq.html" title="trait core::cmp::Eq">Eq</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/hash/trait.Hash.html" title="trait core::hash::Hash">Hash</a>
    + <a class="trait" href="https://doc.rust-lang.org/1.85.0/core/fmt/trait.Debug.html" title="trait core::fmt::Debug">Debug</a> {
    const <a href="#associatedconstant.DEPENDENCY_DEPTH" class="constant">DEPENDENCY_DEPTH</a>: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.usize.html">usize</a> = 1usize;
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Types that can define world-wide states in a finite-state machine.</p>
<p>The <a href="https://doc.rust-lang.org/1.85.0/core/default/trait.Default.html" title="trait core::default::Default"><code>Default</code></a> trait defines the starting state.
Multiple states can be defined for the same world,
allowing you to classify the state of the world across orthogonal dimensions.
You can access the current state of type <code>T</code> with the <a href="struct.State.html" title="struct bevy_state::state::State"><code>State&lt;T&gt;</code></a> resource,
and the queued state with the <a href="enum.NextState.html" title="enum bevy_state::state::NextState"><code>NextState&lt;T&gt;</code></a> resource.</p>
<p>State transitions typically occur in the <a href="struct.OnEnter.html" title="struct bevy_state::state::OnEnter"><code>OnEnter&lt;T::Variant&gt;</code></a> and <a href="struct.OnExit.html" title="struct bevy_state::state::OnExit"><code>OnExit&lt;T::Variant&gt;</code></a> schedules,
which can be run by triggering the <a href="struct.StateTransition.html" title="struct bevy_state::state::StateTransition"><code>StateTransition</code></a> schedule.</p>
<p>Types used as <a href="trait.ComputedStates.html" title="trait bevy_state::state::ComputedStates"><code>ComputedStates</code></a> do not need to and should not derive <a href="trait.States.html" title="trait bevy_state::state::States"><code>States</code></a>.
<a href="trait.ComputedStates.html" title="trait bevy_state::state::ComputedStates"><code>ComputedStates</code></a> should not be manually mutated: functionality provided
by the <a href="trait.States.html" title="trait bevy_state::state::States"><code>States</code></a> derive and the associated <a href="trait.FreelyMutableState.html" title="trait bevy_state::state::FreelyMutableState"><code>FreelyMutableState</code></a> trait.</p>
<h2 id="example"><a class="doc-anchor" href="#example">§</a>Example</h2>
<div class="example-wrap"><pre class="rust rust-example-rendered"><code><span class="kw">use </span>bevy_state::prelude::<span class="kw-2">*</span>;
<span class="kw">use </span>bevy_ecs::prelude::IntoSystemConfigs;
<span class="kw">use </span>bevy_ecs::system::ResMut;


<span class="attr">#[derive(Clone, Copy, PartialEq, Eq, Hash, Debug, Default, States)]
</span><span class="kw">enum </span>GameState {
    <span class="attr">#[default]
    </span>MainMenu,
    SettingsMenu,
    InGame,
}

<span class="kw">fn </span>handle_escape_pressed(<span class="kw-2">mut </span>next_state: ResMut&lt;NextState&lt;GameState&gt;&gt;) {
    <span class="kw">if </span>escape_pressed {
        next_state.set(GameState::SettingsMenu);
    }
}

<span class="kw">fn </span>open_settings_menu() {
    <span class="comment">// Show the settings menu...
</span>}


app.add_systems(Update, handle_escape_pressed.run_if(in_state(GameState::MainMenu)));
app.add_systems(OnEnter(GameState::SettingsMenu), open_settings_menu);</code></pre></div>
</div></details><h2 id="provided-associated-consts" class="section-header">Provided Associated Constants<a href="#provided-associated-consts" class="anchor">§</a></h2><div class="methods"><details class="toggle" open><summary><section id="associatedconstant.DEPENDENCY_DEPTH" class="method"><a class="src rightside" href="../../src/bevy_state/state/states.rs.html#66">Source</a><h4 class="code-header">const <a href="#associatedconstant.DEPENDENCY_DEPTH" class="constant">DEPENDENCY_DEPTH</a>: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.usize.html">usize</a> = 1usize</h4></section></summary><div class="docblock"><p>How many other states this state depends on.
Used to help order transitions and de-duplicate <a href="trait.ComputedStates.html" title="trait bevy_state::state::ComputedStates"><code>ComputedStates</code></a>, as well as prevent cyclical
<code>ComputedState</code> dependencies.</p>
</div></details></div><h2 id="dyn-compatibility" class="section-header">Dyn Compatibility<a href="#dyn-compatibility" class="anchor">§</a></h2><div class="dyn-compatibility-info"><p>This trait is <b>not</b> <a href="https://doc.rust-lang.org/1.85.0/reference/items/traits.html#object-safety">dyn compatible</a>.</p><p><i>In older versions of Rust, dyn compatibility was called "object safety", so this trait is not object safe.</i></p></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><details class="toggle implementors-toggle"><summary><section id="impl-States-for-S" class="impl"><a class="src rightside" href="../../src/bevy_state/state/computed_states.rs.html#93-95">Source</a><a href="#impl-States-for-S" class="anchor">§</a><h3 class="code-header">impl&lt;S: <a class="trait" href="trait.ComputedStates.html" title="trait bevy_state::state::ComputedStates">ComputedStates</a>&gt; <a class="trait" href="trait.States.html" title="trait bevy_state::state::States">States</a> for S</h3></section></summary><div class="impl-items"><section id="associatedconstant.DEPENDENCY_DEPTH-1" class="associatedconstant trait-impl"><a class="src rightside" href="../../src/bevy_state/state/computed_states.rs.html#94">Source</a><a href="#associatedconstant.DEPENDENCY_DEPTH-1" class="anchor">§</a><h4 class="code-header">const <a href="#associatedconstant.DEPENDENCY_DEPTH" class="constant">DEPENDENCY_DEPTH</a>: <a class="primitive" href="https://doc.rust-lang.org/1.85.0/std/primitive.usize.html">usize</a></h4></section></div></details></div><script src="../../trait.impl/bevy_state/state/states/trait.States.js" async></script></section></div></main></body></html>