<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Bevy Tasks"><title>bevy_tasks - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-46132b98.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="bevy_tasks" data-themes="" data-resource-suffix="" data-rustdoc-version="1.85.0 (4d91de4e4 2025-02-17)" data-channel="1.85.0" data-search-js="search-75f5ac3e.js" data-settings-js="settings-0f613d39.js" ><script src="../static.files/storage-59e33391.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-5f194d8c.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="icon" href="https://bevyengine.org/assets/icon.png"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button><a class="logo-container" href="../bevy_tasks/index.html"><img src="https://bevyengine.org/assets/icon.png" alt=""></a></nav><nav class="sidebar"><div class="sidebar-crate"><a class="logo-container" href="../bevy_tasks/index.html"><img src="https://bevyengine.org/assets/icon.png" alt="logo"></a><h2><a href="../bevy_tasks/index.html">bevy_<wbr>tasks</a><span class="version">0.15.2</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#bevy-tasks" title="Bevy Tasks">Bevy Tasks</a><ul><li><a href="#usage" title="Usage">Usage</a></li></ul></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#structs" title="Structs">Structs</a></li><li><a href="#traits" title="Traits">Traits</a></li><li><a href="#functions" title="Functions">Functions</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>bevy_tasks</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/bevy_tasks/lib.rs.html#1-76">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="bevy-tasks"><a class="doc-anchor" href="#bevy-tasks">§</a>Bevy Tasks</h2>
<p><a href="https://github.com/bevyengine/bevy#license"><img src="https://img.shields.io/badge/license-MIT%2FApache-blue.svg" alt="License" /></a>
<a href="https://crates.io/crates/bevy_tasks"><img src="https://img.shields.io/crates/v/bevy.svg" alt="Crates.io" /></a>
<a href="https://crates.io/crates/bevy_tasks"><img src="https://img.shields.io/crates/d/bevy_tasks.svg" alt="Downloads" /></a>
<a href="https://docs.rs/bevy_tasks/latest/bevy_tasks/"><img src="https://docs.rs/bevy_tasks/badge.svg" alt="Docs" /></a>
<a href="https://discord.gg/bevy"><img src="https://img.shields.io/discord/691052431525675048.svg?label=&amp;logo=discord&amp;logoColor=ffffff&amp;color=7389D8&amp;labelColor=6A7EC2" alt="Discord" /></a></p>
<p>A refreshingly simple task executor for bevy. :)</p>
<p>This is a simple threadpool with minimal dependencies. The main usecase is a scoped fork-join, i.e. spawning tasks from
a single thread and having that thread await the completion of those tasks. This is intended specifically for
<a href="https://bevyengine.org"><code>bevy</code></a> as a lighter alternative to <a href="https://github.com/rayon-rs/rayon"><code>rayon</code></a> for this specific usecase. There are also utilities for
generating the tasks from a slice of data. This library is intended for games and makes no attempt to ensure fairness
or ordering of spawned tasks.</p>
<p>It is based on <a href="https://github.com/stjepang/async-executor"><code>async-executor</code></a>, a lightweight executor that allows the end user to manage their own threads.
<code>async-executor</code> is based on async-task, a core piece of async-std.</p>
<h3 id="usage"><a class="doc-anchor" href="#usage">§</a>Usage</h3>
<p>In order to be able to optimize task execution in multi-threaded environments,
bevy provides three different thread pools via which tasks of different kinds can be spawned.
(The same API is used in single-threaded environments, even if execution is limited to a single thread.
This currently applies to Wasm targets.)
The determining factor for what kind of work should go in each pool is latency requirements:</p>
<ul>
<li>
<p>For CPU-intensive work (tasks that generally spin until completion) we have a standard
<a href="struct.ComputeTaskPool.html" title="struct bevy_tasks::ComputeTaskPool"><code>ComputeTaskPool</code></a> and an <a href="struct.AsyncComputeTaskPool.html" title="struct bevy_tasks::AsyncComputeTaskPool"><code>AsyncComputeTaskPool</code></a>. Work that does not need to be completed to
present the next frame should go to the <a href="struct.AsyncComputeTaskPool.html" title="struct bevy_tasks::AsyncComputeTaskPool"><code>AsyncComputeTaskPool</code></a>.</p>
</li>
<li>
<p>For IO-intensive work (tasks that spend very little time in a “woken” state) we have an
<a href="struct.IoTaskPool.html" title="struct bevy_tasks::IoTaskPool"><code>IoTaskPool</code></a> whose tasks are expected to complete very quickly. Generally speaking, they should just
await receiving data from somewhere (i.e. disk) and signal other systems when the data is ready
for consumption. (likely via channels)</p>
</li>
</ul>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.futures_lite"><code>pub use <a class="mod" href="../futures_lite/index.html" title="mod futures_lite">futures_lite</a>;</code></div></li></ul><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="prelude/index.html" title="mod bevy_tasks::prelude">prelude</a></div><div class="desc docblock-short">The tasks prelude.</div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.AsyncComputeTaskPool.html" title="struct bevy_tasks::AsyncComputeTaskPool">Async<wbr>Compute<wbr>Task<wbr>Pool</a></div><div class="desc docblock-short">A newtype for a task pool for CPU-intensive work that may span across multiple frames</div></li><li><div class="item-name"><a class="struct" href="struct.ComputeTaskPool.html" title="struct bevy_tasks::ComputeTaskPool">Compute<wbr>Task<wbr>Pool</a></div><div class="desc docblock-short">A newtype for a task pool for CPU-intensive work that must be completed to
deliver the next frame</div></li><li><div class="item-name"><a class="struct" href="struct.IoTaskPool.html" title="struct bevy_tasks::IoTaskPool">IoTask<wbr>Pool</a></div><div class="desc docblock-short">A newtype for a task pool for IO-intensive work (i.e. tasks that spend very little time in a
“woken” state)</div></li><li><div class="item-name"><a class="struct" href="struct.Scope.html" title="struct bevy_tasks::Scope">Scope</a></div><div class="desc docblock-short">A <a href="struct.TaskPool.html" title="struct bevy_tasks::TaskPool"><code>TaskPool</code></a> scope for running one or more non-<code>'static</code> futures.</div></li><li><div class="item-name"><a class="struct" href="struct.Task.html" title="struct bevy_tasks::Task">Task</a></div><div class="desc docblock-short">Wraps <code>async_executor::Task</code>, a spawned future.</div></li><li><div class="item-name"><a class="struct" href="struct.TaskPool.html" title="struct bevy_tasks::TaskPool">Task<wbr>Pool</a></div><div class="desc docblock-short">A thread pool for executing tasks.</div></li><li><div class="item-name"><a class="struct" href="struct.TaskPoolBuilder.html" title="struct bevy_tasks::TaskPoolBuilder">Task<wbr>Pool<wbr>Builder</a></div><div class="desc docblock-short">Used to create a <a href="struct.TaskPool.html" title="struct bevy_tasks::TaskPool"><code>TaskPool</code></a></div></li><li><div class="item-name"><a class="struct" href="struct.ThreadExecutor.html" title="struct bevy_tasks::ThreadExecutor">Thread<wbr>Executor</a></div><div class="desc docblock-short">An executor that can only be ticked on the thread it was instantiated on. But
can spawn <code>Send</code> tasks from other threads.</div></li><li><div class="item-name"><a class="struct" href="struct.ThreadExecutorTicker.html" title="struct bevy_tasks::ThreadExecutorTicker">Thread<wbr>Executor<wbr>Ticker</a></div><div class="desc docblock-short">Used to tick the <a href="struct.ThreadExecutor.html" title="struct bevy_tasks::ThreadExecutor"><code>ThreadExecutor</code></a>. The executor does not
make progress unless it is manually ticked on the thread it was
created on.</div></li></ul><h2 id="traits" class="section-header">Traits<a href="#traits" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.ParallelIterator.html" title="trait bevy_tasks::ParallelIterator">Parallel<wbr>Iterator</a></div><div class="desc docblock-short"><a href="trait.ParallelIterator.html" title="trait bevy_tasks::ParallelIterator"><code>ParallelIterator</code></a> closely emulates the <code>std::iter::Iterator</code>
interface. However, it uses <code>bevy_task</code> to compute batches in parallel.</div></li><li><div class="item-name"><a class="trait" href="trait.ParallelSlice.html" title="trait bevy_tasks::ParallelSlice">Parallel<wbr>Slice</a></div><div class="desc docblock-short">Provides functions for mapping read-only slices across a provided <a href="struct.TaskPool.html" title="struct bevy_tasks::TaskPool"><code>TaskPool</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.ParallelSliceMut.html" title="trait bevy_tasks::ParallelSliceMut">Parallel<wbr>Slice<wbr>Mut</a></div><div class="desc docblock-short">Provides functions for mapping mutable slices across a provided <a href="struct.TaskPool.html" title="struct bevy_tasks::TaskPool"><code>TaskPool</code></a>.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.available_parallelism.html" title="fn bevy_tasks::available_parallelism">available_<wbr>parallelism</a></div><div class="desc docblock-short">Gets the logical CPU core count available to the current process.</div></li><li><div class="item-name"><a class="fn" href="fn.block_on.html" title="fn bevy_tasks::block_on">block_<wbr>on</a></div><div class="desc docblock-short">Blocks the current thread on a future.</div></li><li><div class="item-name"><a class="fn" href="fn.poll_once.html" title="fn bevy_tasks::poll_once">poll_<wbr>once</a></div><div class="desc docblock-short">Polls a future just once and returns an <a href="https://doc.rust-lang.org/1.85.0/core/option/enum.Option.html" title="enum core::option::Option"><code>Option</code></a> with the result.</div></li><li><div class="item-name"><a class="fn" href="fn.tick_global_task_pools_on_main_thread.html" title="fn bevy_tasks::tick_global_task_pools_on_main_thread">tick_<wbr>global_<wbr>task_<wbr>pools_<wbr>on_<wbr>main_<wbr>thread</a></div><div class="desc docblock-short">A function used by <code>bevy_core</code> to tick the global tasks pools on the main thread.
This will run a maximum of 100 local tasks per executor per call to this function.</div></li></ul></section></div></main></body></html>